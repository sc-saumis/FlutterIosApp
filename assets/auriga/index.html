<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Auriga Widget App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Your CSS -->
    <link rel="stylesheet" href="style.css" />

    <!-- Auriga widget -->
    <script src="https://auriga-chat-dev.scryai.com/assets/widget/auriga-widget.js"
        onerror="this.onerror=null;this.src='auriga-widget.js'"></script>
  </head>
  <body>
  <div id="flutter_container"></div>

  <div id="auriga-container"></div>
  <h1>This is a dummy iOS App.</h1>

  <!-- Add simple UI for testing -->
  <div>
    <input type="text" id="hostInput" placeholder="Message to Angular App">
    <button id="sendToIframe">Send to Angular</button>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      if (window.AurigaWidget) {
        window.AurigaWidget.boot({ orgId: "H4u2lPNd8o" });

        // Send to Angular iframe
        document.getElementById("sendToIframe").addEventListener("click", () => {
          const msg = document.getElementById("hostInput").value;
          AurigaWidget.sendMessageToIframe(msg);
        });

        // Receive from Angular iframe
        AurigaWidget.onMessageFromIframe((msg) => {
          alert("ðŸ“¥ Message from Angular: " + msg);
        });
      }
    });
  </script>
</body>

</html>