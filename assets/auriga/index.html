<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Auriga Widget App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Your CSS -->
    <link rel="stylesheet" href="style.css" />

    <!-- Auriga widget -->
    <script src="https://auriga-chat-dev.scryai.com/assets/widget/auriga-widget.js"
        onerror="this.onerror=null;this.src='auriga-widget.js'"></script>
  </head>
  <body>
    <!-- Flutter WebView will render this HTML -->
    <div id="flutter_container"></div>

    <!-- Auriga container -->
    <div id="auriga-container"></div>
    <h1>This is a dummy IOS App.</h1>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        if (window.AurigaWidget) {
          window.AurigaWidget.boot({ orgId: "123456789" });
        }
        
        // Simple PiP prevention that won't break anything
        // function stopAutoPIP() {
        //   try {
        //     const videos = document.querySelectorAll('video');
        //     videos.forEach(video => {
        //       video.setAttribute('playsinline', 'true');
        //       video.setAttribute('webkit-playsinline', 'true');
              
        //       if (video.disablePictureInPicture !== undefined) {
        //         video.disablePictureInPicture = true;
        //       }
              
        //       video.onenterpictureinpicture = function() {
        //         if (document.exitPictureInPicture) {
        //           document.exitPictureInPicture();
        //         }
        //       };
        //     });
        //   } catch (error) {
        //     console.log('PIP prevention error:', error);
        //   }
        // }
        
        // Run prevention
        // stopAutoPIP();
        // setInterval(stopAutoPIP, 5000);
      });
    </script>
  </body>
</html>